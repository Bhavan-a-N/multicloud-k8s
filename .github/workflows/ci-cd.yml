name: CI/CD Pipeline  

on:  
  push:  
    branches: [main]  

jobs:  
  build:  
    runs-on: ubuntu-latest  
    steps:  
      - name: Checkout Repository  
        uses: actions/checkout@v2  

      - name: Log in to Docker Hub  
        run: echo "${{ secrets.DOCKER_PASSWORD }}" | docker login -u "${{ secrets.DOCKER_USERNAME }}" --password-stdin  

      - name: Build and Push Docker Images  
        run: |  
          docker build -t your-dockerhub-username/frontend-app:1.0 ./public  
          docker build -t your-dockerhub-username/backend-app:1.0 ./server  
          docker push your-dockerhub-username/frontend-app:1.0  
          docker push your-dockerhub-username/backend-app:1.0  

      - name: Deploy to Kubernetes  
        run: |  
          kubectl apply -f .k8s/frontend-deployment.yaml  
          kubectl apply -f .k8s/backend-deployment.yaml  
